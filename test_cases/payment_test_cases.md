# Payment Test Cases

## Описание 
Тестирование процесса оплаты заказа банковской картой через внешний платёжный шлюз.

---

## TC-1

**Название:** Успешная оплата без прохождения 3-D Secure  

**Предусловия:**  
- Веб-приложение открыто  
- Заказ доступен для оплаты
- Используется тестовая карта не требующая 3-D Secure

**Шаги:**  
1. Ввести корректные данные банковской карты  
2. Нажать кнопку «Оплатить»  

**Ожидаемый результат:**  
- Клиентская валидация проходит успешно  
- Данные отправляются в платёжный шлюз  
- Платёжный шлюз возвращает результат «Успешно»  
- Статус заказа обновляется  
- Пользователю отображается сообщение об успешной оплате  
- На email отправляется чек  

---

## TC-2

**Название:** Успешная оплата с прохождением 3-D Secure  

**Предусловия:**  
- Веб-приложение открыто  
- Заказ доступен для оплаты  
- Используется карта c обязательным прохождением 3-D Secure  

**Шаги:**  
1. Ввести корректные данные карты  
2. Нажать кнопку «Оплатить»  
3. Подтвердить операцию на странице 3-D Secure  

**Ожидаемый результат:**  
- Происходит редирект на страницу 3-D Secure  
- После успешного подтверждения происходит возврат в приложение  
- Платёжный шлюз возвращает результат «Успешно»  
- Статус заказа обновляется  
- Пользователю отображается сообщение об успешной оплате  
- На email отправляется чек  

---

## TC-3

**Название:** Платёж отклонён банком  

**Предусловия:**  
- Веб-приложение открыто  
- Заказ доступен для оплаты
- Используется тестовая карта, для которой платёжный шлюз возвращает статус «Отклонено банком»

**Шаги:**  
1. Ввести корректные данные карты  
2. Нажать кнопку «Оплатить»  

**Ожидаемый результат:**  
- Клиентская валидация проходит успешно  
- Данные отправляются в платёжный шлюз  
- Платёжный шлюз возвращает результат «Отклонено банком»  
- Статус заказа не изменяется  
- Пользователю отображается сообщение об отказе в оплате  
- Email-чек не отправляется  

---

## TC-4

**Название:** Ошибка платёжного сервиса  

**Предусловия:**  
- Веб-приложение открыто  
- Заказ доступен для оплаты
- Платёжный шлюз настроен на возврат технической ошибки

**Шаги:**  
1. Ввести корректные данные карты  
2. Нажать кнопку «Оплатить»  

**Ожидаемый результат:**  
- Клиентская валидация проходит успешно  
- Данные отправляются в платёжный шлюз  
- Платёжный шлюз возвращает результат «Ошибка платёжного сервиса»  
- Статус заказа не изменяется  
- Пользователю отображается сообщение о технической ошибке  
- Email-чек не отправляется  

---

## TC-5

**Название:** Попытка оплаты с пустыми обязательными полями  

**Предусловия:**  
- Веб-приложение открыто  
- Заказ доступен для оплаты  

**Шаги:**  
1. Оставить обязательные поля пустыми (номер карты, срок действия, CVV)  
2. Нажать кнопку «Оплатить»  

**Ожидаемый результат:**  
- Отображаются сообщения об ошибках валидации на клиенте 
- Данные в платёжный шлюз не отправляются  

---

## TC-6

**Название:** Ввод номера карты с недопустимыми символами  

**Предусловия:**  
- Веб-приложение открыто  
- Заказ доступен для оплаты  

**Шаги:**  
1. Ввести номер карты с недопустимыми символами (Буквы, специальные символы)   
2. Нажать кнопку «Оплатить»  

**Ожидаемый результат:**  
- Отображается сообщение о некорректных символах в номере карте  
- Данные в платёжный шлюз не отправляются  

---

## TC-7

**Название:** Ввод просроченной банковской карты  

**Предусловия:**  
- Веб-приложение открыто  
- Заказ доступен для оплаты  

**Шаги:**  
1. Ввести дату окончания срока действия карты в прошлом  
2. Нажать кнопку «Оплатить»  

**Ожидаемый результат:**  
- Клиентская валидация проходит успешно  
- Данные отправляются в платёжный шлюз  
- Платёжный шлюз возвращает результат «Отклонено банком»  
- Статус заказа не изменяется  
- Пользователю отображается сообщение об отказе в оплате  
- Email-чек не отправляется 

---

## TC-8

**Название:** Ввод минимально допустимого количества символов номера карты 

**Предусловия:**  
- Веб-приложение открыто  
- Заказ доступен для оплаты  

**Шаги:**  
1. Ввести минимально допустимое количество цифр номера карты (13 цифр)
2. Нажать кнопку «Оплатить»  

**Ожидаемый результат:**  
- Клиентская валидация проходит успешно  
- Данные отправляются в платёжный шлюз  
- Платёжный шлюз возвращает результат «Успешно»  
- Статус заказа обновляется  
- Пользователю отображается сообщение об успешной оплате  
- На email отправляется чек  

---

## TC-9

**Название:** Ввод максимально допустимого количества символов номера карты  

**Предусловия:**  
- Веб-приложение открыто  
- Заказ доступен для оплаты  

**Шаги:**  
1. Ввести максимально допустимое количество цифр номера карты (19 цифр)
2. Нажать кнопку «Оплатить»  

**Ожидаемый результат:**  
- Клиентская валидация проходит успешно  
- Данные отправляются в платёжный шлюз  
- Платёжный шлюз возвращает результат «Успешно»  
- Статус заказа обновляется  
- Пользователю отображается сообщение об успешной оплате  
- На email отправляется чек  

---

## TC-10

**Название:** Ввод карты, номер которой состоит из 12 цифр  

**Предусловия:**  
- Веб-приложение открыто  
- Заказ доступен для оплаты  

**Шаги:**  
1. Ввести 12 цифр в номере карты 
2. Нажать кнопку «Оплатить»  

**Ожидаемый результат:**  
- Отображаются сообщения об ошибках валидации на клиенте 
- Данные в платёжный шлюз не отправляются  

---

## TC-11

**Название:** Ввод карты, номер которой состоит из 20 цифр  

**Предусловия:**  
- Веб-приложение открыто  
- Заказ доступен для оплаты  

**Шаги:**  
1. Ввести 20 цифр в номере карты 
2. Нажать кнопку «Оплатить»  

**Ожидаемый результат:**  
- Отображаются сообщения об ошибках валидации на клиенте 
- Данные в платёжный шлюз не отправляются  

---

## TC-12

**Название:** Ввод CVV состоящего из 2 символов  

**Предусловия:**  
- Веб-приложение открыто  
- Заказ доступен для оплаты  

**Шаги:**  
1. Ввести CVV, состоящий из 2 цифр  
2. Нажать кнопку «Оплатить»  

**Ожидаемый результат:**  
- Отображаются сообщения об ошибках валидации на клиенте 
- Данные в платёжный шлюз не отправляются   

---

## TC-13

**Название:** Ввод CVV состоящего из 4 символов  

**Предусловия:**  
- Веб-приложение открыто  
- Заказ доступен для оплаты  

**Шаги:**  
1. Ввести CVV, состоящий из 4 цифр  
2. Нажать кнопку «Оплатить»  

**Ожидаемый результат:**  
- Отображаются сообщения об ошибках валидации на клиенте 
- Данные в платёжный шлюз не отправляются   

---

## TC-14

**Название:** Обработка недоступности платёжного шлюза  

**Предусловия:**  
- Веб-приложение открыто  
- Заказ доступен для оплаты
- Платёжный шлюз недоступен (мокаем отказ соединения)

**Шаги:**  
1. Ввести корректные данные карты 
2. Нажать кнопку «Оплатить»  

**Ожидаемый результат:**  
- Клиентская валидация проходит успешно  
- Попытка отправки данных в шлюз выполняется
- Возникает ошибка соединения
- Пользователю отображается сообщение о технической ошибке
- Статус заказа не изменяется
- Email не отправляется