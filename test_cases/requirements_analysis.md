# Анализ требований

## 1. Исходные требования

Веб-приложение позволяет пользователю оплатить заказ банковской картой.

Процесс оплаты:
- Пользователь нажимает кнопку «Оплатить»
- Выполняется клиентская валидация
- Данные отправляются во внешний платёжный шлюз
- Возможен редирект на 3-D Secure
- Платёжный шлюз возвращает один из результатов:
  - Успешно
  - Отклонено банком
  - Ошибка платёжного сервиса
- Приложение обновляет статус заказа
- Пользователю отображается результат оплаты
- На email отправляется чек (только при успешной оплате)

Требуемое покрытие:
- Позитивный сценарий
- Негативный сценарий
- Граничные значения
- Проверка валидации
- Проверка интеграции с платёжным шлюзом

---


## 2. Выявленные неопределённости и серые зоны

### 2.1 Правила клиентской валидации карты

Требования не задают правила валидации данных банковской карты.  
Допустим:
- Номер карты содержит только цифры
- Длина номера карты соответствует стандарту ISO 7812 (13–19 цифр)
- Срок действия карты в формате MM/YY
- Месяц между 01 и 12
- CVV содержит только цифры
- CVV состоит строго из 3 цифр

---

### 2.2 Валидация даты окончания действия карты

Не указано:
- Проверяется ли срок действия карты на клиенте или проверка выполняется только платёжным шлюзом

Допустим:
- Клиент проверяет корректность формата и диапазон месяца
- Если карта реально просрочена, платёжный шлюз вернёт отказ

---

### 2.3 Симуляция ответов платёжного шлюза

Не описано, как вызвать:
- «Отклонено банком»
- «Ошибка платёжного сервиса»

Допущение:
- Для тестирования используется тестовая среда шлюза или мок-ответы (например, тестовые карты с заранее заданным статусом).

---

## 3. Используемые техники тест-дизайна

- Позитивное / негативное тестирование
- Разбиение на классы эквивалентности
- Анализ граничных значений
- Проверка изменения статуса
- Интеграционное тестирование с внешним шлюзом

---